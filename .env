# =============================================================================
# JKB Finance Insights - Environment Configuration
# =============================================================================
# Copy this file to .env and modify the values as needed
# cp env.example .env

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server host and port
SERVER_HOST=127.0.0.1
SERVER_PORT=8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database file path
DATABASE_URL=finance_insights.db

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

# OpenAI API Key (Required for AI features)
OPENAI_API_KEY=***REMOVED***

# OpenAI Model
OPENAI_MODEL=gpt-4o-mini

# OpenAI Prompt IDs (Required for AI analysis)
OPENAI_PROMPT_BRIEFSTRATEGY_ID=pmpt_68afab6880208195bfd21d5d21d78fde05865a166d0ee06e
OPENAI_PROMPT_BRIEFSTRATEGY_VERSION_ID=4

OPENAI_PROMPT_REPORT_ID=pmpt_68b14aee3e4c8196a4f0dbf60081aff10f4212b806053d20
OPENAI_PROMPT_REPORT_VERSION_ID=1

# OpenAI API timeout in seconds (default: 30 seconds)
OPENAI_TIMEOUT=30000                # API call timeout in milliseconds (default: 30 seconds)
OPENAI_RATE_LIMIT=10                # Maximum calls per minute (default: 10)

# =============================================================================
# UI/FRONTEND CONFIGURATION
# =============================================================================

# Performance Settings (milliseconds)
UI_REFRESH=500  # How often to refresh data       
UI_REFRESH_TABLE=1000


# =============================================================================
# SCRAPER CONFIGURATION
# =============================================================================

# Scraper timeout in seconds
SCRAPER_TIMEOUT=30

# Scraper retry settings
SCRAPER_MAX_RETRIES=3
SCRAPER_RETRY_DELAY=1

# =============================================================================
# TASK QUEUE CONFIGURATION
# =============================================================================

# Number of worker processes for task processing
TASK_WORKER_COUNT=3

# Maximum retry attempts for failed tasks
TASK_MAX_RETRIES=3

# Task timeout in milliseconds (default: 2 minutes)
TASK_PROCESSING_TIMEOUT=120000

# Pending task timeout in milliseconds (default: 4 minutes)
TASK_PENDING_TIMEOUT=240000

# Worker polling interval in milliseconds (default: 100ms)
TASK_POLLING_INTERVAL=100

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database timeout in milliseconds (default: 30 seconds)
DATABASE_TIMEOUT=30000
DATABASE_MAX_RETRIES=3
DATABASE_RETRY_DELAY=100
DATABASE_WAL_MODE=true

# =============================================================================
# SCRAPER CONFIGURATION
# =============================================================================

# Scraper timeout in milliseconds (default: 30 seconds)
SCRAPER_TIMEOUT=30000

# Scraper retry settings
SCRAPER_MAX_RETRIES=3
SCRAPER_RETRY_DELAY=1000

# =============================================================================
# FRONTEND REFRESH INTERVALS (in milliseconds)
# =============================================================================

# Primary refresh interval for all UI elements
UI_REFRESH=500

# Table data refresh interval (more resource-intensive)
UI_REFRESH_TABLE=1000

# App reload delay after operations
APP_RELOAD_DELAY=500

# Search debounce delay
APP_SEARCH_DEBOUNCE=300

# =============================================================================
# TRADINGVIEW CONFIGURATION
# =============================================================================

# Chart settings
TRADINGVIEW_CHART_HEIGHT=400
TRADINGVIEW_CHART_INTERVAL=1
TRADINGVIEW_CHART_TIMEZONE=America/New_York

# =============================================================================
# APPLICATION INFO
# =============================================================================

# Application name
APP_NAME="JKB Finance Insights"

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable detailed error messages
SHOW_DETAILED_ERRORS=true

# Logging
LOG_LEVEL=info
